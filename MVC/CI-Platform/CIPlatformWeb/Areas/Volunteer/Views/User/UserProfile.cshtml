@model UserProfileVM  
@{
    var changePasswordVm = new ChangePasswordVM();
}
<!-- User profile section begin -->
    <main>
    <header>
        <partial name="_Navbar"/>
        <hr class="m-0"/>
    </header>
    <section class="container edit-profile mt-4 d-flex flex-column gap-4 gap-md-5 flex-lg-row">

        <!-- User profile begin -->
        <div class="user-profile d-flex flex-column py-4 align-items-center align-self-center align-self-lg-start border gap-2">
            <input type="hidden" value="@Model.Avatar" id="user-avatar"/>
            <input type="hidden" value="@Model.UserId" id ="edit-user-id"/>
            <img for="usr-profile-upload" src="@Model.Avatar" class="rounded-circle cursor-pointer" alt="User image" id="usr-profile-img"
                 onclick="document.getElementById('usr-profile-upload').click();">
            <input type="file" hidden id="usr-profile-upload" accept="image/*">
            <p class="text-black-1 mb-0 font-22">@Model.FirstName  @Model.LastName</p>
            <button class="fw-light text-black-1 bg-transparent border-0 font-xs" data-bs-toggle="modal" data-bs-target="#changePasswordModal">
                Change Password
            </button>
        </div>
        <!-- User profile end  -->

        <!-- basic information section begin -->
        <div class="flex-grow-1">
            <form asp-controller="User" asp-action="EditUserProfile" id="form-edit-profile" method="POST">
                <div class="border-bottom">
                    <div class="custom-border-bottom pb-2 mx-content font-22 text-black-1">
                        Basic Information
                    </div>
                </div>
                <div class="mt-3 d-flex flex-column gap-4">
                    <div class="row gx-3">
                        <div class="col-md-6">
                            <label asp-for="@Model.FirstName" class="form-label"></label>
                            <input asp-for="@Model.FirstName" class="form-control" placeholder="Enter your name">
                            <span class="text-danger font-xs" asp-validation-for="@Model.FirstName"></span>
                        </div>
                        <div class="col-md-6">
                            <label asp-for="@Model.LastName" class="form-label"></label>
                            <input asp-for="@Model.LastName" class="form-control" placeholder="Enter your surname">
                            <span class="text-danger font-xs" asp-validation-for="@Model.LastName"></span>
                        </div>
                        <span class="text-danger font-xs"></span>
                    </div>
                    <div class="row gx-3">
                        <div class="col-md-6">
                            <label asp-for="@Model.EmployeeId" class="form-label"></label>
                            <input asp-for="@Model.EmployeeId" class="form-control" placeholder="Enter your Employee ID">
                        </div>
                        <div class="col-md-6">
                            <label asp-for="@Model.Title" class="form-label"></label>
                            <input asp-for="@Model.Title" class="form-control" placeholder="Enter Your Job Title">
                        </div>
                    </div>
                    <div class="col-12">
                        <label asp-for="@Model.Department" class="form-label"></label>
                        <input asp-for="@Model.Department" class="form-control" placeholder="Enter your department">
                    </div>
                    <div>
                        <label asp-for="MyProfile" class="form-label">My Profile*</label>
                        <textarea asp-for="MyProfile" class="form-control" rows="4" placeholder="Enter about yourself"></textarea>
                        <span class="text-danger font-xs" asp-validation-for="@Model.MyProfile"></span>
                    </div>
                    <div>
                        <label asp-for="WhyIVolunteer" class="form-label">Why I Volunteer?</label>
                        <textarea asp-for="WhyIVolunteer" class="form-control" rows="4" placeholder="Enter reason for why you want to volunteer"></textarea>
                    </div>
                </div>

                <!-- Additional Information -->
                <div class="mt-4">
                    <div class="border-bottom">
                        <div class="custom-border-bottom pb-2 mx-content font-22 text-black-1">
                            Additional Information
                        </div>
                    </div>
                    <div class="row gx-3 mt-3">
                        <div class="col-md-6">
                            <label asp-for="CityId" class="form-label"></label>
                            <select class="form-select cursor-pointer" asp-for="CityId" id="city-menu">
                                <option value ="" selected disabled>Select City</option>
                                @foreach (var city in Model.CityList)
                                {
                                    <option value="@city.CityId" data-countryid="@city.CountryId">@city.Name</option>
                                }
                            </select>
                            <span class="text-danger font-xs" asp-validation-for="CityId"></span>

                        </div>
                        <div class="col-md-6">
                            <label asp-for="CountryId" class="form-label"></label>
                            <select class="form-select cursor-pointer" asp-for="CountryId" id="country-menu">
                                
                                <option value="" disabled selected>Select Country</option>
                                @foreach ( var country in Model.CountryList )
                                {
                                    <option value="@country.CountryId">@country.Name</option>
                                }
                            </select>
                            <span class="text-danger font-xs" asp-validation-for="CountryId"></span>

                        </div>
                    </div>
                </div>

                <!-- Professional Information -->
                <div class="mt-4">
                    <div class="border-bottom">
                        <div class="custom-border-bottom pb-2 mx-content font-22 text-black-1">
                            Professional Information
                        </div>
                    </div>
                    <div class="row gx-3 mt-3">
                        <div class="col-md-6">
                            <label asp-for="Availability" class="form-label"></label>
                            <select class="form-select cursor-pointer" asp-for="Availability" asp-items="Html.GetEnumSelectList<MissionAvailability>()">
                                <option value="" disabled selected>Select Availability</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label asp-for="LinkedInUrl" class="form-label"></label>
                            <input asp-for="LinkedInUrl" class="form-control" placeholder="Enter your LinkedIn URL">
                        </div>
                    </div>
                </div>


                <!-- My Skills -->
                <div class="mt-4">
                    <div class="border-bottom">
                        <div class="custom-border-bottom pb-2 mx-content font-22 text-black-1">
                            My Skills
                        </div>
                    </div>
                    <div class="border mt-3">
                        <ul class="list-unstyled ps-3 py-2 mb-0 fw-light font-xs text-black-1 d-flex flex-column gap-2">
                            <li>
                                Anthrology
                            </li>
                            <li>
                                Archeology
                            </li>
                            <li>
                                Astronomy
                            </li>
                            <li>
                                Computer Science
                            </li>
                            <li>
                                History
                            </li>
                        </ul>
                    </div>
                    <a class="btn-g-orange mx-content mt-2" data-bs-toggle="modal" data-bs-target="#addSkillModal">
                        Add Skills
                    </a>
                </div>

                <button class="btn-g-orange ms-auto my-2" type="submit">
                    Save
                </button>
            </form>
        </div>

        <!-- Basic information section end  -->

    </section>
    <!-- User profile section end  -->
    <!-- Change Password Modal Begin -->
    <div class="modal" tabindex="-1" id="changePasswordModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title font-22 text-black-1">Change Password</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form class="user-modal-form" onsubmit="handleChangePassword(event)">
                    <div class="modal-body d-flex flex-column gap-2">
                        <input type="hidden" id="changePasswordVm_UserId" value="@Model.UserId"/>
                        <input type="password" class="form-control" placeholder="Enter old password" asp-for="@changePasswordVm.OldPassword">
                        <span class="text-danger font-xs d-inline" asp-validation-for="@changePasswordVm.OldPassword" id="err-old-pass"></span>
                        <input type="password" class="form-control" placeholder="Enter new password" asp-for="@changePasswordVm.NewPassword">
                        <span class="text-danger font-xs d-inline" asp-validation-for="@changePasswordVm.NewPassword"></span>
                        <input type="password" class="form-control" placeholder="Enter confirm password" asp-for="@changePasswordVm.ConfirmPassword">
                        <span class="text-danger font-xs d-inline" asp-validation-for="@changePasswordVm.ConfirmPassword" id="err-cnf-pass"></span>
                    </div>
                    <div class="modal-footer border-0">
                        <button type="button" class="btn-g-gray" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn-g-orange" id="btn-change-password" type="submit">Change Password</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Change password modal finish -->
    <!-- Add your skill modal begin -->
    <div class="modal" tabindex="-1" id="addSkillModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title font-22 text-black-1">Add Skills</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="d-flex gap-3 skill-list">
                        <div class="border flex-basis">
                            <ul class="list-unstyled pt-2 font-xs fw-light d-flex flex-column gap-1" id="all-skill">
                                <li class="active" data-allskillid="1">Anthrology</li>
                                <li data-allskillid="2">History</li>
                                <li data-allskillid="3">Computer Science</li>
                                <li data-allskillid="4">Archeology</li>
                                <li class="active" data-allskillid="5">Botany</li>
                                <li data-allskillid="6">Mechanic</li>
                                <li data-allskillid="7">Astronomy</li>
                            </ul>
                        </div>
                        <div class="d-flex align-items-center flex-column justify-content-center gap-3">
                            <img src="~/assets/right-arrow1.png" alt="Add" id="usr-skill-add">
                            <img src="~/assets/left.png" alt="Remove" id="usr-skill-remove">
                        </div>

                        <div class="border flex-basis">
                            <ul class="list-unstyled pt-2 font-xs fw-light d-flex flex-column gap-1" id="user-skill">
                            </ul>
                        </div>
                    </div>

                </div>
                <div class="modal-footer border-0 justify-content-start">
                    <button type="button" class="btn-g-gray" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn-g-orange">Save</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Add your skill modal finsih -->
    </main>
    <partial name="_Footer"/>
@section Scripts
{
    <partial name="_ValidationScriptsPartial"/>
    <script src="~/js/site.js"></script>
    <script src="~/js/user-edit-profile.js"></script>
}